library(blogdown)
blogdown::new_site(theme="curtimson/hugo-theme-massively")
blogdown::new_site(theme="curttimson/hugo-theme-massively")
blogdown:::serve_site()
blogdown::new_site(theme="curttimson/hugo-theme-massively")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
song<-function(n=99) {
a<-" bottle"
b<-" of beer on the wall, "
c<-" of beer. "
d<-"Take one down and pass it around: "
#
## set "beer counter" vector
counter<-c(as.character(n:1),"No more")
#
## set plural
s<-ifelse(counter=="1","","s")
#
## build up the verses vector
firsthalf<-paste(counter,a,s,b,counter,a,s,c,sep="")
sechalf1.99<-paste(d,counter[-1],a,s[-1],b,sep="")
sechalf100<-paste("Go to the store and buy some more: ",
counter[1],a,"s",b,sep="")
##
## song is the vector of n+1 complete verses
song<-paste(firsthalf,c(sechalf1.99,sechalf100),sep="")
}
song()
song<-function(n=99) {
a<-" bottle"
b<-" of beer on the wall, "
c<-" of beer. "
d<-"Take one down and pass it around: "
#
## set "beer counter" vector
counter<-c(as.character(n:1),"No more")
#
## set plural
s<-ifelse(counter=="1","","s")
#
## build up the verses vector
firsthalf<-paste(counter,a,s,b,counter,a,s,c,sep="")
sechalf1.99<-paste(d,counter[-1],a,s[-1],b,sep="")
sechalf100<-paste("Go to the store and buy some more: ",
counter[1],a,"s",b,sep="")
##
## song is the vector of n+1 complete verses
song<-paste(firsthalf,c(sechalf1.99,sechalf100),sep="")
}
song()
song()
print(song)
song()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
jsonlite::read_json("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=JSON&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000")
piwikdata <-jsonlite::read_json("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=JSON&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000")
View(piwikdata)
df<-unlist(piwikdata)
as.data.frame(piwikdata)
data.table <- rbindlist(piwikdata)
data.table <- data.table::rbindlist(piwikdata)
data.table <- do.call(rbind, piwikdata)
data.table <- flatten(piwikdata)
data.table <- jsonlite::flatten(piwikdata)
piwikdata <-jsonlite::read_json("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=JSON&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000",flatten=TRUE)
View(piwikdata)
piwikdata <-read.csv("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=csv&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000")
View(piwikdata)
piwikdata <-read_csv("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=csv&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000")
piwikdata <-read.csv("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=csv&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000",sep=",",header = T)
piwikdata <-read.csv("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=csv&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000",sep=",")
piwikdata <-fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=json&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000", flatten=T)
piwikdata <-jsonlite::fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=json&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000", flatten=T)
View(piwikdata)
DT(piwikdata)
DT::DT(piwikdata)
DT::datatable(piwikdata)
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits)) +
geom_bar()
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits)) +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(nb_visits,label)) +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(nb_visits,label),stat="identity") +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits),stat="identity") +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits),stat="identity") +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits),stats="identity") +
geom_bar()
piwikdata %>%
arrange(desc(nb_visits)) %>%
ggplot(aes(label,nb_visits)) +
geom_bar(stat="identity")
View(piwikdata)
piwikdata <-jsonlite::fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=json&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000", flatten=T)
downloads <- jsonlite::fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=CustomReports.getCustomReport&format=JSON&idSite=1&period=week&date=2018-05-21&idCustomReport=1&reportUniqueId=CustomReports_getCustomReport_idCustomReport--1&expanded=1&segment=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=10", flatten=T)
View(downloads)
piwikdata <-jsonlite::fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getPageTitles&format=json&idSite=1&period=week&date=2018-05-22&expanded=1&segment=dimension1%3D%3Dgeoinformation-kanton-zuerich,dimension1%3D%3Dstatistisches-amt-kanton-zuerich&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000", flatten=T)
downloads <- jsonlite::fromJSON("https://piwik.opendata.swiss/index.php?module=API&method=CustomReports.getCustomReport&format=JSON&idSite=1&period=week&date=2018-05-21&idCustomReport=1&reportUniqueId=CustomReports_getCustomReport_idCustomReport--1&expanded=1&segment=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100000", flatten=T)
View(downloads)
View(downloads)
downloads %>%
mutate(actions_share=nb_uniq_events_eventaction/sum(nb_uniq_events_eventaction))
downloads %>%
mutate(actions_share=nb_uniq_events_eventaction/sum(nb_uniq_events_eventaction)*100)
openswiss <- downloads %>%
filter(segment %in% c("dimension1==statistisches-amt-kanton-zuerich","dimension1==geoinformation-kanton-zuerich")) %>%
mutate(actions_share=sum(nb_uniq_events_eventaction))
View(openswiss)
openswiss <- downloads %>%
mutate(actions_tot=sum(nb_uniq_events_eventaction)) %>%
filter(segment %in% c("dimension1==statistisches-amt-kanton-zuerich","dimension1==geoinformation-kanton-zuerich"))
View(openswiss)
View(downloads)
View(downloads)
openswiss <- downloads  %>% subset(select = c(nb_uniq_events_eventaction, label))
View(openswiss)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=week&date=2016-11-10,2018-05-27&label=&date=2017-11-27%2C2018-05-27&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100"), flatten=T)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2016-11-10,2018-05-27&label=&date=2017-11-27%2C2018-05-27&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100"), flatten=T)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2017-11-17,2018-05-27&label=&date=2017-11-27%2C2018-05-27&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100"), flatten=T)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2017-11-17,2018-04-30&label=&date=2017-11-27%2C2018-04-30&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100000"), flatten=T)
View(downloads)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2016-06-01,2018-05-31&label=&date=2016-06-01%2C2018-05-31&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100"), flatten=T)
View(downloads)
View(downloads)
test <- downloadsü[[1]]
test <- downloads[[1]]
View(test)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2016-06-01,2018-05-31&label=&date=2016-06-01%2C2018-05-31&filter_limit=false&format_metrics=1&expanded=1&label=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100"), flatten=T)
View(downloads)
View(openswiss)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=CustomReports.getCustomReport&format=JSON&idSite=1&period=month&date=2018-05-22&idCustomReport=1&reportUniqueId=CustomReports_getCustomReport_idCustomReport--1&expanded=1&segment=&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=100000"), flatten=T)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2018-05-21&expanded=1&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000"), flatten=T)
View(downloads)
downloads <- jsonlite::fromJSON(paste0("https://piwik.opendata.swiss/index.php?module=API&method=Actions.getDownloads&format=JSON&idSite=1&period=month&date=2016-01-01,2018-05-31&expanded=1&token_auth=fdf8fc140d2b204596e6668dec590697&filter_limit=1000"), flatten=T)
View(downloads)
test <- downloads[[1]]
class(test)
View(test)
downloadorg <- do.call(rbind, downloads)
View(downloads)
names(downloads)
names(test)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
